# AliveAgain - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Supabase

## ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!

–í–∞—à –ø—Ä–æ–µ–∫—Ç AliveAgain —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Supabase —Å —Å–ª–µ–¥—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

### –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞:
- **Project URL**: https://wjtxswzeibngvwaanusd.supabase.co
- **Publish Key (Anon)**: sb_publishable_zuu5cnEHd9vosElaR1wGvw_432g_6Ih
- **Status**: ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `.env.local` - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Supabase –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

```
VITE_SUPABASE_URL=https://wjtxswzeibngvwaanusd.supabase.co
VITE_SUPABASE_ANON_KEY=sb_publishable_zuu5cnEHd9vosElaR1wGvw_432g_6Ih
```

### 2. `supabase-client.js` - –ö–ª–∏–µ–Ω—Ç Supabase
–ú–æ–¥—É–ª—å–Ω—ã–π JavaScript —Ñ–∞–π–ª —Å –≥–æ—Ç–æ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è:
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, –≤—ã—Ö–æ–¥)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ó–∞–ø–∏—Å—å –ø–æ—Å–µ—â–µ–Ω–∏–π —Å—Ç—Ä–∞–Ω
- –§—É–Ω–∫—Ü–∏–∏ –¥—Ä—É–∂–±—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- Real-time –ø–æ–¥–ø–∏—Å–∫–∏

### 3. `index.html` - –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π HTML
–¢–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Supabase –¥–ª—è:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–ø–∏—Å–∏ –ø–æ—Å–µ—â–µ–Ω–∏–π –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –≤–∏–¥–µ–æ
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

---

## üöÄ –ö–∞–∫ –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12):
```
–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
‚úÖ Supabase —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω!
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≤ Supabase

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Supabase Console](https://app.supabase.com) –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã:

#### –¢–∞–±–ª–∏—Ü–∞: users
```sql
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  email VARCHAR(255) NOT NULL UNIQUE,
  username VARCHAR(100) NOT NULL,
  full_name VARCHAR(255),
  avatar_url TEXT,
  bio TEXT,
  age INT,
  country VARCHAR(100),
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

#### –¢–∞–±–ª–∏—Ü–∞: visits
```sql
CREATE TABLE visits (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  country VARCHAR(100) NOT NULL,
  visited_at TIMESTAMP DEFAULT NOW(),
  duration_minutes INT,
  impressions TEXT
);
```

#### –¢–∞–±–ª–∏—Ü–∞: friends
```sql
CREATE TABLE friends (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  friend_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  status VARCHAR(50) DEFAULT 'pending',
  created_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(user_id, friend_id)
);
```

#### –¢–∞–±–ª–∏—Ü–∞: messages
```sql
CREATE TABLE messages (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  sender_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  recipient_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  content TEXT NOT NULL,
  created_at TIMESTAMP DEFAULT NOW(),
  is_read BOOLEAN DEFAULT FALSE
);
```

---

## üíª –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```javascript
import { signUp } from './supabase-client.js'

const result = await signUp('user@example.com', 'password123', 'username')
if (result.success) {
  console.log('‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:', result.user)
} else {
  console.error('‚ùå –û—à–∏–±–∫–∞:', result.error)
}
```

### –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
```javascript
import { signIn } from './supabase-client.js'

const result = await signIn('user@example.com', 'password123')
if (result.success) {
  console.log('‚úÖ –í—Ö–æ–¥ —É—Å–ø–µ—à–µ–Ω')
}
```

### –ó–∞–ø–∏—Å—å –ø–æ—Å–µ—â–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω—ã
```javascript
import { recordVisit } from './supabase-client.js'

const result = await recordVisit(userId, '–Ø–ø–æ–Ω–∏—è', 30)
if (result.success) {
  console.log('‚úÖ –ü–æ—Å–µ—â–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∞–Ω–æ')
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```javascript
import { getUserProfile } from './supabase-client.js'

const result = await getUserProfile(userId)
if (result.success) {
  console.log('–ü—Ä–æ—Ñ–∏–ª—å:', result.profile)
}
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
```javascript
import { sendMessage } from './supabase-client.js'

const result = await sendMessage(senderId, recipientId, '–ü—Ä–∏–≤–µ—Ç!')
if (result.success) {
  console.log('‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ')
}
```

### Real-time –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
```javascript
import { subscribeToMessages } from './supabase-client.js'

const subscription = subscribeToMessages(userId, (message) => {
  console.log('üì® –ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:', message)
})

// –û—Ç–ø–∏—Å–∫–∞ –∫–æ–≥–¥–∞ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–∞
subscription.unsubscribe()
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –í–ê–ñ–ù–û!

**–ù–ò–ö–û–ì–î–ê** –Ω–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ Secret Key –≤ GitHub –∏–ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ!

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ:**
- Public Key (Anon Key) –≤ –∫–æ–¥–µ - –ú–û–ñ–ù–û
- Environment variables - –•–û–†–û–®–û
- .env.local —Ñ–∞–π–ª –≤ .gitignore - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û

‚ùå **–û–ü–ê–°–ù–û:**
- Secret Key –≤ –∫–æ–¥–µ - –ó–ê–ü–†–ï–©–ï–ù–û
- Secret Key –≤ GitHub - –ó–ê–ü–†–ï–©–ï–ù–û
- Secret Key –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö - –ó–ê–ü–†–ï–©–ï–ù–û

### –î–æ–±–∞–≤—å—Ç–µ .env.local –≤ .gitignore
```bash
echo ".env.local" >> .gitignore
```

---

## üîê Row Level Security (RLS)

–î–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–∫–ª—é—á–∏—Ç–µ RLS –≤ Supabase:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor** –≤ Supabase Console
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

```sql
-- –í–∫–ª—é—á–∏—Ç–µ RLS –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã users
ALTER TABLE users ENABLE ROW LEVEL SECURITY;

-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å
CREATE POLICY "Users can view own profile"
ON users
FOR SELECT
USING (auth.uid() = id);

-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å
CREATE POLICY "Users can update own profile"
ON users
FOR UPDATE
USING (auth.uid() = id);
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
```javascript
import { supabase } from './supabase-client.js'

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
const { data, error } = await supabase.from('users').select('count').limit(1)
console.log('–°—Ç–∞—Ç—É—Å:', error ? '‚ùå –û—à–∏–±–∫–∞' : '‚úÖ OK')
```

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- üîó [Supabase Console](https://app.supabase.com)
- üìñ [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Supabase](https://supabase.com/docs)
- üîê [Authentication Docs](https://supabase.com/docs/guides/auth)
- üöÄ [Realtime Docs](https://supabase.com/docs/guides/realtime)

---

## üÜò –ß–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∞
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∞—à –¥–æ–º–µ–Ω –¥–æ–±–∞–≤–ª–µ–Ω –≤ Supabase Settings ‚Üí Auth ‚Üí Redirect URLs

### –ü—Ä–æ–±–ª–µ–º–∞: "No rows found"
**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –∏ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–ª—é—á –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Public Key (Anon Key), –∞ –Ω–µ Secret Key

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. ‚úÖ –í–∫–ª—é—á–∏—Ç–µ RLS –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
3. ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
4. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å –≤–∞—à–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
5. ‚úÖ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–π—Ç–µ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ (Vercel, Netlify)

---

**AliveAgain ¬© 2026** | Powered by Supabase ‚ú®
